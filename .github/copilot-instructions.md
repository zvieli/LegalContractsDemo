PurposeShort, focused guidance for an AI coding agent working in this repo. Include the big-picture architecture, common developer workflows (build/test/debug), project-specific patterns, and high-value file references so an LLM can be immediately productive.Big picture (V7 - LLM-Driven Arbitration)Smart contracts live under contracts/. Major templates: NDATemplate.sol (NDA flow) and TemplateRentContract.sol (rent flow).Arbitration is now driven solely by a Structured LLM Decision via an Oracle.Arbitration is centralized through ArbitrationService.sol. The Arbitrator.sol contract acts as the Oracle Interface, accepting the final, structured decision (JSON Schema) from the off-chain LLM Arbitrator API (Python/FastAPI).Templates are designed to be created via ContractFactory.sol so arbitration wiring is immutably set at creation.Frontend under front/ (Vite + React). ABIs copied to front/src/utils/contracts by scripts/copy-abi.js and the deploy scripts.Evidence is stored off-chain; contracts store a bytes32 keccak256 digest only (see README and front/src/utils/evidence.js). Admin-side decryption tools are in tools/admin/ and must run in a trusted environment.Key files to inspect firsthardhat.config.cjs — compiler, networks, gas reporter, and etherscan wiring.scripts/deploy.js — automated local wiring: deploys ContractFactory, ArbitrationService, and the Oracle interface (Arbitrator.sol). Sets factory in the service and copies ABIs.contracts/Arbitrator.sol — CRITICAL: The Oracle/LLM endpoint on-chain. It defines the structure for the final decision received from the off-chain system.contracts/ArbitrationService.sol — important: it tries multiple resolution entrypoints via low-level call and is the authorized caller on templates.scripts/copy-abi.js — copy ABI/artifact conventions used by the frontend.start-all.ps1 — convenience script that starts Hardhat node, runs deploy, serves the front-end, and runs tests; useful to replicate developer environment on Windows.front/src/services/contractService.js and front/src/utils/evidence.js — frontend patterns for computing evidence digests and calling contracts.Developer workflows (concrete)Local dev (typical):  1. Start local Hardhat node.  2. Deploy with scripts/deploy.js (copies ABIs into front/).  3. Ensure the LLM Arbitrator API (Python FastAPI) service is running separately.  4. Run frontend (front/) and run tests.  5. start-all.ps1 automates these steps in separate terminals on Windows.Common npm scripts (root package.json): npm run node, npm run deploy:localhost, npm run compile, npm test, npm run copy-abi, npm run build:all.Tests: Hardhat tests are npm test. Playwright and Vitest lives in front/ with their own scripts.Project-specific conventions & patterns (V7)Arbitration Flow (LLM Focused): Templates do NOT store an arbitrator or use old voting flows. Resolutions must be applied via the ArbitrationService. The final resolution is determined by the off-chain LLM Arbitrator API, which an authorized Oracle relays to Arbitrator.sol (the interface) -> which then authorizes ArbitrationService to execute the decision.LLM Decisions: The LLM Arbitrator API must return a strictly formatted JSON (tested via test_arbitrator_api.py) that matches the expected input schema of Arbitrator.sol.Evidence digest only: templates accept a bytes32 evidenceDigest. Frontend computes the digest (keccak256). Do not expect raw CIDs or URIs on-chain.ABI/Artifact syncing: the deploy process and scripts/copy-abi.js place compiled artifacts under front/src/utils/contracts. Any code changes to contracts should be followed by npm run compile + npm run copy-abi (or run npm run build:all).Admin tooling and secrets: admin decryptors are intentionally out-of-band under tools/admin/. Never import or bundle those into front/.Integration points & external depsV7 LLM Arbitrator Stack: This is an external service (e.g., Python/FastAPI) that calls  and is the ultimate source of the structured arbitration decision.RPC endpoints: hardhat local node at http://127.0.0.1:8545. Remote networks use env vars in hardhat.config.cjs (e.g., RPC_URL, PRIVATE_KEY).Etherscan verification controlled by ETHERSCAN_API_KEY env var.Evidence storage is off-chain (S3/HTTPS/Helia) — contracts only keep keccak256 digest.Testing & debugging tipsTDD Priority: Ensure the core logic and tests for the LLM Arbitrator API (e.g., test_arbitrator_api.py) pass before integrating with the Arbitrator.sol contract.If MetaMask shows RPC "circuit breaker" errors during local dev, the frontend falls back to http://127.0.0.1:8545 for certain read-only calls; ensure the local Hardhat node chainId (31337) matches MetaMask.Use start-all.ps1 to open separate windows: Hardhat node, deploy, frontend, and tests — this reduces race conditions and exposes logs.For gas numbers, run tests with REPORT_GAS=true npm test.What changed recently (helpful cues for edits)AI, Chainlink Functions, and voting logic were REMOVED.Focus shifted entirely to LLM-based, Oracle-relayed, structured arbitration.The Arbitrator.sol contract is now a passive receiver of the final  decision from the Oracle.Examples (where to implement/patch)When adding a new template contract, ensure it accepts arbitrationService as an immutable or constructor-set address and that ArbitrationService.applyResolutionToTarget will be able to call the template's resolution entrypoint.When updating frontend evidence flow, update front/src/utils/evidence.js and keep tools/admin/ in sync for decrypt helpers. The UI should call contract entrypoints with a bytes32 digest, not the raw ciphertext.Quick checklist for PRsVerify LLM Arbitrator API tests pass (if applicable to the PR).Update ABIs (npm run compile && npm run copy-abi) and verify front/src/utils/contracts contains expected artifacts.Update README snippets if you add or change deployment wiring.Run unit tests (npm test) and, if touching UI, run front tests (npm --prefix front test).Copilot Instructions (Frontend E2E Specific)Project ContextThis repository contains a decentralized rental contracts system.The frontend is in React + Playwright for E2E tests.Contracts are written in Solidity and deployed with Hardhat.E2E tests (front/tests/e2e/template.rent.e2e.spec.ts) must interact with the real UI and trigger on-chain transactions.Rules for CopilotWhen modifying Playwright specs:   - Always use real UI selectors from the components under front/src/pages/.   - Do not invent fake selectors or mocks.   - Prefer getByRole, getByLabel, or getByText over raw CSS selectors when possible.When orchestrating scenarios:   - Each CASE in the test should run a full flow: create rent contract via UI, perform payments, report evidence/disputes, and verify the outcome of the LLM-driven resolution applied by the Oracle/Admin.   - Use real Hardhat wallets (from hardhat.config.js / WALLETS.txt) and treat wallet #0 as the admin (who acts as the Oracle relay operator).   - Transactions should go on-chain via the deployed contracts, not mocked calls.When generating helper functions:   - If fetching contract ABI or addresses, read them from /front/src/services/contractService.js or artifacts/ instead of hardcoding.   - Handle async with proper await page.waitFor... to sync with UI actions.   - Ensure waitForTx waits for chain confirmations before proceeding.When writing files:   - Record results in evidence_storage/e2e_cases.json and logs in evidence_storage/e2e_cases_verbose.log.   - JSON should contain the contract address, case name, involved parties, and transaction hashes.General coding style:   - TypeScript strict mode compliant.   - Avoid require, use import.   - Prefer named imports from ethers (v6 API).GoalAchieve true end-to-end tests where every flow in CASES validates the actual system (frontend + backend + blockchain).Tests should be deterministic and repeatable, not flaky.Ensure all interactions mimic real user behavior as closely as possible.Maintain high code quality and readability for future maintainers.